@using AcademiaCodigo.Web.Models;
@model ProductViewModel;

@{
    ViewBag.Title = "Pesquisa de Produtos"; 
    ViewBag.Header = "Pesquisa de Produtos";
}

<div>
     @using (Html.BeginForm("Search", "Product")) {

<nav class="navbar navbar-default fixed-top">
    <div class="container">
      <div id="navbar" class="navbar-collapse collapse">
        <form class="navbar-form navbar-right">
        <div class="form-group col-lg-2">
            <label class="sr-only" for="i_code">Código</label>
            <input type="text" id="i_code" name="i_code" value="" class="form-control" placeholder="Código" />
        </div>
        <div class="form-group col-lg-2">
            <label class="sr-only" for="i_name">Nome</label>
            <input type="text" id="i_name" name="i_name" value="" class="form-control" placeholder="Nome" />
        </div>
        <button type="submit" name="bt_search" class="btn btn-success"><i class="fa fa-search" aria-hidden="true"></i>Pesquisar</button>
        </form>
      </div>
      <!--/.navbar-collapse -->
    </div>
  </nav>
  }

  <div class="container">
    <table class="table table-striped table-hover">
      <thead>
        <tr class="active">
          <th scope="col">Código</th>
          <th scope="col">Nome</th>
          <th scope="col">Preço</th>
          <th scope="col">Stock</th>
          <th scope="col">Actualizado em</th>
          <th scope="col">Por</th>
          <th scope="col">Detalhes</th>
        </tr>
      </thead>
      <tbody>

        @foreach(var item in Model.Products) {
        <tr>
          <td scope="row">@item.Code</td>
          <td>@item.Name</td>
          <td>@item.Price.ToString("\u20AC0.00")</td>
          <td>@item.CurrentStock</td>
          <td>@item.UpdatedOn</td>
          <td>@item.UpdatedBy</td>
          <td>@Html.ActionLink("+ info","Detail","Product", new { code = @item.Code }, new {@class="btn btn-info"})</td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  <nav aria-label="...">
    <ul class="pager">
      <li class="previous">
        @Html.ActionLink("Anterior","Navigate","Product", new { Next=false, page=Model.Filter.Page, code=Model.Filter.Code, name=Model.Filter.Name })
      </li>
      <li class="next"> @Html.ActionLink("Seguinte","Navigate","Product", new { Next=true, page=Model.Filter.Page, code=Model.Filter.Code, name=Model.Filter.Name })
      </li>
    </ul>
  </nav>
  <div class="container">
      <button class="btn btn-warning" onclick="location.href='@Url.Action("Create", "Product")';return false;"><i class="far fa-plus-square"></i> Novo</button>
     <!-- @Html.ActionLink("Novo","Create","Product", null , new { @class="fas fa-plus-square btn btn-warning"})-->
    </div>
</div>